/* ===== DataTables – Modern Animated Theme (CSS only) ===== */
/* Place AFTER the default DataTables CSS */

/* ---------- Design tokens ---------- */
:root {
  --dt-surface: #ffffff;
  --dt-surface-2: #f7f8fa;
  --dt-border: #e6e8ec;
  --dt-text: #1f2937;
  --dt-text-muted: #6b7280;
  --dt-accent: #3b82f6;
  --dt-accent-2: #2563eb;
  --dt-success: #10b981;
  --dt-shadow: 0 8px 24px rgba(16, 24, 40, 0.08);
  --dt-radius: 14px;
  --dt-radius-sm: 10px;
  --dt-focus: 0 0 0 3px rgba(59, 130, 246, 0.25);
}

/* Optional: auto dark mode */
@media (prefers-color-scheme: dark) {
  :root {
    --dt-surface: #0b0e14;
    --dt-surface-2: #121723;
    --dt-border: #1f2430;
    --dt-text: #e5e7eb;
    --dt-text-muted: #9aa4b2;
    --dt-accent: #60a5fa;
    --dt-accent-2: #3b82f6;
    --dt-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
  }
}

/* ---------- Wrapper card ---------- */
.dataTables_wrapper {
  background: var(--dt-surface);
  border: 1px solid var(--dt-border);
  border-radius: var(--dt-radius);
  box-shadow: var(--dt-shadow);
  padding: 18px 18px 12px;
  overflow: visible;
}

/* Top bar: length + search */
.dataTables_wrapper .dataTables_length,
.dataTables_wrapper .dataTables_filter {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 14px;
}

.dataTables_wrapper .dataTables_length label,
.dataTables_wrapper .dataTables_filter label {
  color: var(--dt-text-muted);
  font-weight: 600;
  letter-spacing: .2px;
}

/* Select (rows per page) */
.dataTables_wrapper .dataTables_length select {
  appearance: none;
  border: 1px solid var(--dt-border);
  background: var(--dt-surface-2);
  color: var(--dt-text);
  padding: 10px 36px 10px 12px;
  border-radius: var(--dt-radius-sm);
  transition: border-color .2s, box-shadow .2s, background-color .2s, transform .12s;
  font-weight: 600;
  background-image:
    linear-gradient(45deg, transparent 50%, currentColor 50%),
    linear-gradient(135deg, currentColor 50%, transparent 50%);
  background-position:
    calc(100% - 22px) calc(1.05em),
    calc(100% - 16px) calc(1.05em);
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
}
.dataTables_wrapper .dataTables_length select:hover { transform: translateY(-1px); }
.dataTables_wrapper .dataTables_length select:focus {
  outline: none; border-color: var(--dt-accent); box-shadow: var(--dt-focus);
}

/* Search input */
.dataTables_wrapper .dataTables_filter input {
  border: 1px solid var(--dt-border);
  background: var(--dt-surface-2);
  color: var(--dt-text);
  padding: 10px 12px 10px 40px;
  border-radius: var(--dt-radius-sm);
  transition: border-color .2s, box-shadow .2s, transform .12s;
  font-weight: 600;
  width: min(340px, 50vw);
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='11' cy='11' r='7' stroke='%236b7280' stroke-width='2'/%3E%3Cpath d='M20 20L17 17' stroke='%236b7280' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: 12px center;
}
.dataTables_wrapper .dataTables_filter input:hover { transform: translateY(-1px); }
.dataTables_wrapper .dataTables_filter input:focus {
  outline: none; border-color: var(--dt-accent); box-shadow: var(--dt-focus);
}

/* ---------- Table core ---------- */
table.dataTable {
  width: 100% !important;
  border-collapse: separate !important;
  border-spacing: 0;
  overflow: visible;
  border: 1px solid var(--dt-border);
  border-radius: var(--dt-radius-sm);
  background: var(--dt-surface);
}

/* Header */
table.dataTable thead th {
  position: relative;
  background: linear-gradient(0deg, var(--dt-surface-2), var(--dt-surface-2));
  color: var(--dt-text);
  font-weight: 800;
  padding: 14px 14px;
  border-bottom: 1px solid var(--dt-border);
  text-transform: uppercase;
  letter-spacing: .6px;
  user-select: none;
}

/* Sort indicators (CSS only) */
table.dataTable thead th.sorting::after,
table.dataTable thead th.sorting_asc::after,
table.dataTable thead th.sorting_desc::after {
  content: '';
  display: inline-block;
  width: 10px; height: 10px;
  margin-left: 8px;
  background-repeat: no-repeat;
  background-size: 10px 10px;
  transition: transform .2s ease;
  opacity: .72;
  filter: grayscale(20%);
}
table.dataTable thead th.sorting::after {
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 0l3 4H2zM5 10L2 6h6z' fill='%236b7280'/%3E%3C/svg%3E");
}
table.dataTable thead th.sorting_asc::after {
  transform: translateY(-1px);
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 0l3 4H2z' fill='%233b82f6'/%3E%3C/svg%3E");
}
table.dataTable thead th.sorting_desc::after {
  transform: translateY(1px);
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='10' viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5 10L2 6h6z' fill='%233b82f6'/%3E%3C/svg%3E");
}

/* Body cells */
table.dataTable tbody td {
  border-bottom: 1px solid var(--dt-border);
  color: var(--dt-text);
  padding: 12px 14px;
}

/* Zebra & hover */
table.dataTable.stripe tbody tr:nth-child(odd),
table.dataTable.display tbody tr:nth-child(odd) {
  background-color: var(--dt-surface-2);
}
table.dataTable tbody tr:hover {
  background: rgba(59, 130, 246, 0.08);
  transition: background-color .22s ease;
}

/* Row reveal animation */
@keyframes dtRowIn {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
table.dataTable tbody tr {
  animation: dtRowIn .28s ease both;
}
table.dataTable tbody tr:nth-child(2) { animation-delay: .01s; }
table.dataTable tbody tr:nth-child(3) { animation-delay: .02s; }
table.dataTable tbody tr:nth-child(4) { animation-delay: .03s; }
table.dataTable tbody tr:nth-child(5) { animation-delay: .04s; }

/* Selected row (if you use Select extension) */
table.dataTable tbody tr.selected,
table.dataTable tbody tr.dt-hasChild {
  background: rgba(59, 130, 246, 0.14) !important;
}

/* Responsive child row toggle icon (if using Responsive) */
table.dataTable.dtr-inline.collapsed > tbody > tr > td.dtr-control:before,
table.dataTable.dtr-inline.collapsed > tbody > tr > th.dtr-control:before {
  border: none;
  box-shadow: none;
  background: var(--dt-accent);
  color: #fff;
  border-radius: 6px;
}

/* Footer/info */
.dataTables_wrapper .dataTables_info {
  color: var(--dt-text-muted);
  padding-top: 10px;
  font-weight: 600;
}

/* ---------- Pagination ---------- */
.dataTables_wrapper .dataTables_paginate {
  display: flex;
  align-items: center;
  gap: 6px;
  padding-top: 10px;
  justify-content: flex-end;
}

.dataTables_wrapper .dataTables_paginate .paginate_button {
  border: 1px solid var(--dt-border) !important;
  background: var(--dt-surface-2) !important;
  color: var(--dt-text) !important;
  padding: 8px 12px !important;
  border-radius: 999px !important;
  margin: 0 !important;
  font-weight: 700 !important;
  line-height: 1 !important;
  transition: transform .12s ease, box-shadow .2s ease, background-color .2s ease, border-color .2s ease;
}
.dataTables_wrapper .dataTables_paginate .paginate_button:hover {
  transform: translateY(-1px);
  border-color: var(--dt-accent) !important;
  box-shadow: var(--dt-focus);
}
.dataTables_wrapper .dataTables_paginate .paginate_button.current,
.dataTables_wrapper .dataTables_paginate .paginate_button.current:hover {
  background: var(--dt-accent) !important;
  color: #fff !important;
  border-color: var(--dt-accent-2) !important;
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.35);
}
.dataTables_wrapper .dataTables_paginate .paginate_button.disabled,
.dataTables_wrapper .dataTables_paginate .paginate_button.disabled:hover {
  opacity: .45; transform: none; box-shadow: none;
}

/* ---------- Processing overlay ---------- */
.dataTables_wrapper .dataTables_processing {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%,-50%);
  padding: 10px 14px;
  border-radius: 999px;
  background: var(--dt-surface-2);
  border: 1px solid var(--dt-border);
  color: var(--dt-text);
  font-weight: 800;
  box-shadow: var(--dt-shadow);
}
.dataTables_wrapper .dataTables_processing:before {
  content: "";
  display: inline-block;
  width: 14px; height: 14px;
  margin-right: 8px;
  border-radius: 50%;
  border: 2px solid var(--dt-accent);
  border-top-color: transparent;
  animation: dtSpin 0.7s linear infinite;
  vertical-align: -2px;
}
@keyframes dtSpin { to { transform: rotate(360deg);} }

/* ---------- Utility tweaks ---------- */
.dataTables_wrapper .dataTables_paginate,
.dataTables_wrapper .dataTables_info {
  margin-top: 6px;
}

/* Compact layout on small screens */
@media (max-width: 640px) {
  .dataTables_wrapper { padding: 14px; }
  .dataTables_wrapper .dataTables_length,
  .dataTables_wrapper .dataTables_filter {
    flex: 1 1 100%;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 8px;
  }
  .dataTables_wrapper .dataTables_filter input { width: 100%; }
}

.dt-card { border-radius: 14px; box-shadow: var(--dt-shadow); }
.dt-clip { overflow: hidden; border-radius: inherit; }
.dataTables_wrapper { overflow: visible; }  /* menu won’t be clipped anymore */


table.dataTable td,
table.dataTable th {
  position: relative;             /* gives a stacking context for items inside cells */
}

.table-responsive { overflow-x: auto; overflow-y: visible; }

.dropdown-menu {
  z-index: 2;                  /* above cards/modals shadows; adjust if you use modals */
}
/* Optional: make header sticky if your container is scrollable */
/* .dataTables_wrapper .dataTables_scrollHead th { position: sticky; top: 0; z-index: 2; } */